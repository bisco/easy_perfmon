extends ./layout.jade

mixin graph(title, graph_id, cap1, cap2, cap3)
  .col-xs-4.col-sm-4.placeholder
    h4= title
    table
      tr
        td
          span.caption-usr= cap1
        td
          span.caption-sys= cap2
        td
          span.caption-iowait= cap3
        //- td
        //-   span.caption-irq %irq
    canvas(id=graph_id)
    span.text-muted
    if block
      block

mixin server_param(description, value)
  tr
    td #{description}
    td #{value}

block content
  h1.page-header System overview of #{hostname}
  .row.placeholders 
    +graph("mpstat",  "mpstat_total", "%usr", "%sys", "%idle")
    +graph("Load average", "loadavg", "1min", "5min", "15min")
    //- +graph(vmstat, "vmstat_total")

  h2.sub-header Server Information

  .table-responsive
    table.table.table-striped
      tbody
        +server_param("hostname", hostname)
        +server_param("kernel version", kernel_ver) 
        +server_param("Memory size (KB)", memsize)

block script
  script(src="/js/perfmon_index.js")
